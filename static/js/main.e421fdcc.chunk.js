(this["webpackJsonpgithub-pages"]=this["webpackJsonpgithub-pages"]||[]).push([[5],{14:function(t,e,n){"use strict";n.r(e),n.d(e,"completion",(function(){return r}));var s=n(15),a=function(t,e){return t+e};function r(t){var e=[],n=0;if(t.items.forEach((function(t){n+=t.rate})),t.items.forEach((function(s){e.push(s.rate/n*(t.chance/100))})),e.push(1-e.reduce(a)),e.length>20)return[];var r=e.reduce((function(t,e){return t.concat(t.map((function(t){return[e].concat(Object(s.a)(t))})))}),[[]]);r.sort((function(t,e){return t.length>=e.length?1:-1}));for(var o=function(t){for(var e=[];e.length<=t;){e.unshift(1);for(var n=1;n<e.length-1;n++)e[n]+=e[n+1]}return e}(e.length),i=0,c=0;c<e.length;c++)for(var u=Math.pow(-1,e.length-1-c),l=0;l<o[c];l++){if(0!==c)i+=u*(1/(1-r[o.slice(o.length-c).reduce(a)+l].reduce(a)));else i+=1*u}return Math.round(i)}},30:function(t,e,n){},31:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){var s={"./cg":[21,0],"./cg.js":[21,0],"./completion":[14],"./completion-old":[22,1],"./completion-old.js":[22,1],"./completion.js":[14],"./corp":[23,2],"./corp.js":[23,2],"./cox":[24,3],"./cox.js":[24,3],"./looter":[5],"./looter.js":[5],"./tob":[25,4],"./tob.js":[25,4]};function a(t){if(!n.o(s,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=s[t],a=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(s)},a.id=35,t.exports=a},36:function(t,e,n){"use strict";n.r(e);var s=n(1),a=n.n(s),r=n(19),o=n.n(r),i=(n(30),n(12)),c=n(13),u=n(17),l=n(16),h=(n(31),n(10)),p=n(0),d=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)("div",{children:Object(p.jsx)("nav",{children:Object(p.jsxs)("ul",{id:"navigation",children:[Object(p.jsx)("li",{children:Object(p.jsx)(h.b,{to:"/",children:"Home"})}),Object(p.jsx)("li",{children:Object(p.jsx)(h.b,{to:"/osrs",children:"osrs"})}),Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"https://github.com/PattyRich/github-pages",children:" repo this comes from "})})]})})})})}}]),n}(a.a.Component),j=d,b=n(15),m=n(20),f=n(4),g=n.n(f),v=n(11),O=n(6),x=(n(34),n(5)),C=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(i.a)(this,n),(t=e.call(this)).state={mode:"cox",rewards:null,rolls:"",error:!1,nothingCounter:0,rewardList:[],rewardCount:0,rewardCountConst:0,points:3e4,pets:!0},t.onChangeValue=t.onChangeValue.bind(Object(O.a)(t)),t.onChangeValueInput=t.onChangeValueInput.bind(Object(O.a)(t)),t.go=t.go.bind(Object(O.a)(t)),t.stopInterval=t.stopInterval.bind(Object(O.a)(t)),t.interval=null,t}return Object(c.a)(n,[{key:"onChangeValue",value:function(){var t=Object(v.a)(g.a.mark((function t(e){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({mode:e.target.value}),t.next=3,Object(x.loot)(null,e.target.value,{points:this.state.points,runCompletion:!0,pets:this.state.pets});case 3:n=t.sent,this.setState({completion:n});case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"onChangeValueInput",value:function(t,e){this.setState(Object(m.a)({},t,e.target.value))}},{key:"simulate",value:function(){var t=this;this.interval&&clearInterval(this.interval);var e=Number(this.state.rolls);e>100&&(e=100),this.setState({rewardList:[],rewardCount:0,rewardCountConst:e}),this.interval=setInterval(Object(v.a)(g.a.mark((function n(){var s;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=null,!t.state.rewardCountConst){n.next=6;break}return n.next=4,Object(x.loot)(e,t.state.mode,{points:t.state.points,pets:t.state.pets});case 4:s=n.sent,t.setState({rewardList:[s].concat(Object(b.a)(t.state.rewardList)),rewardCount:t.state.rewardCount+t.state.rewardCountConst});case 6:case"end":return n.stop()}}),n)}))),2e3)}},{key:"go",value:function(){var t=Object(v.a)(g.a.mark((function t(){var e,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Number(this.state.rolls),n=[],!e){t.next=9;break}return t.next=5,Object(x.loot)(e,this.state.mode,{points:this.state.points,pets:this.state.pets});case 5:n=t.sent,this.setState({rewards:n}),t.next=13;break;case 9:return t.next=11,Object(x.loot)("f",this.state.mode,{points:this.state.points,pets:this.state.pets});case 11:n=t.sent,this.setState({rewards:n});case 13:n&&0===n.length?this.setState({nothingCounter:this.state.nothingCounter+1}):this.setState({nothingCounter:0});case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var t=Object(v.a)(g.a.mark((function t(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.loot)(null,this.state.mode,{points:this.state.points,runCompletion:!0,pets:this.state.pets});case 2:e=t.sent,this.setState({completion:e});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"stopInterval",value:function(){this.interval&&clearInterval(this.interval)}},{key:"componentWillUnmount",value:function(){this.stopInterval()}},{key:"render",value:function(){var t=this;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"box",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"radio",value:"cox",name:"",checked:"cox"===this.state.mode,onChange:this.onChangeValue})," Cox",Object(p.jsx)("input",{type:"radio",value:"tob",name:"",checked:"tob"===this.state.mode,onChange:this.onChangeValue})," Tob",Object(p.jsx)("input",{type:"radio",value:"cg",name:"",checked:"cg"===this.state.mode,onChange:this.onChangeValue})," Corrupted Gauntlet",Object(p.jsx)("input",{type:"radio",value:"corp",name:"",checked:"corp"===this.state.mode,onChange:this.onChangeValue})," Corp"]}),Object(p.jsx)("label",{children:"Number of rolls (f or nothing for completion) "}),Object(p.jsx)("input",{type:"text",value:this.state.rolls,onChange:function(e){return t.onChangeValueInput("rolls",e)}}),Object(p.jsx)("br",{}),"Include pet for completion? ",Object(p.jsx)("input",{type:"checkbox",onChange:function(){return t.setState({pets:!t.state.pets})},checked:this.state.pets}),Object(p.jsx)("br",{}),"cox"===this.state.mode?Object(p.jsxs)("span",{children:[Object(p.jsx)("label",{children:"Number of cox points per raid "}),Object(p.jsx)("input",{type:"text",value:this.state.points,onChange:function(e){return t.onChangeValueInput("points",e)}})]}):null,Object(p.jsx)("br",{}),Object(p.jsx)("button",{onClick:this.go,children:" Go! "}),"\xa0 or",Object(p.jsx)("button",{style:{margin:"10px"},onClick:function(){return t.simulate()},children:" Simulate daily raids. (must be rolls <= 100) "}),this.state.rewardList.length?Object(p.jsx)("button",{style:{background:"#c90c1c"},onClick:this.stopInterval,children:" Stop "}):null,this.state.completion?Object(p.jsxs)("span",{children:[" Average completion without pet is: ",this.state.completion," kc "]}):null,Object(p.jsxs)("div",{className:"items",children:[this.state.rewards?this.state.rewards.map((function(t){return Object(p.jsxs)("div",{className:"item",children:[Object(p.jsx)("img",{src:"".concat("/github-pages","/assets/").concat(t.name,".gif"),alt:t.name}),t.kc]})})):null,this.state.rewards&&0===this.state.rewards.length?"Nothing x"+this.state.nothingCounter:null]})]}),this.state.rewardList.length?Object(p.jsxs)("div",{className:"box",children:["Overall KC: ",this.state.rewardCount,Object(p.jsx)("div",{className:"day",children:this.state.rewardList.length?this.state.rewardList.map((function(e,n){var s=new Date;return s.setDate(s.getDate()+t.state.rewardList.length-(n+1)),s=s.toLocaleString().split(",")[0],Object(p.jsxs)("div",{className:"flexCol",children:[s,Object(p.jsx)("div",{className:"items",children:e.length?e.map((function(e){return Object(p.jsxs)("div",{className:"item",children:[Object(p.jsx)("img",{src:"".concat("/github-pages","/assets/").concat(e.name,".gif"),alt:e.name}),e.kc," (",t.state.rewardCountConst*(t.state.rewardList.length-n)-(t.state.rewardCountConst-e.kc),")"]})})):null}),Object(p.jsx)("hr",{})]})})):null})]}):null]})}}]),n}(a.a.Component),w=C,k=function(t){t&&t instanceof Function&&n.e(8).then(n.bind(null,37)).then((function(e){var n=e.getCLS,s=e.getFID,a=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),s(t),a(t),r(t),o(t)}))},y=n(2);o.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(h.a,{children:Object(p.jsxs)(y.c,{children:[Object(p.jsx)(y.a,{path:"/",element:Object(p.jsx)(j,{})}),Object(p.jsx)(y.a,{path:"/osrs",element:Object(p.jsx)(w,{})}),Object(p.jsx)(y.a,{path:"/github-pages/osrs",element:Object(p.jsx)(w,{})}),Object(p.jsx)(y.a,{path:"*",element:Object(p.jsx)("main",{style:{padding:"1rem"},children:Object(p.jsx)("p",{children:"There's nothing here!"})})})]})})}),document.getElementById("root")),k()},5:function(t,e,n){"use strict";n.r(e),n.d(e,"loot",(function(){return a}));var s=n(14);function a(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{points:3e4,runCompletion:!1,pets:!0};return new Promise((function(o,i){n(35)("./"+e).then((function(e){var n=JSON.parse(JSON.stringify(e));"cox"===n.data.name&&(n.data.chance=a.points/8678),a.pets?n.data.pet.getPet=!0:n.data.pet.getPet=!1,a.runCompletion&&o(Object(s.completion)(n.data)),o(r(t,n.data))}))}))}function r(t,e){var n=[],s="f"===t,a=[];s&&(t=1e6);var r,o,i=0;e.items.forEach((function(t){i+=t.rate,a.push(0)})),e.pet.getPet&&a.push(0);for(var c=0;c<t;c++){if(100*Math.random()<e.chance)for(var u=(r=i,o=0,Math.random()*(r-o)+o),l=0,h=0;h<e.items.length;h++)if((l+=e.items[h].rate)>=u){n.push({kc:c+1,name:e.items[h].name}),a[h]+=1;break}if(p(c),s&&!a.some((function(t){return t<=0})))break}return n;function p(t){var s=function(t){return Math.floor(Math.random()*t)+1}(e.pet.rate);s===e.pet.rate&&("cox"===e.name?n.length&&n[n.length-1].kc===t+1&&(n.push({kc:t+1,name:e.pet.name}),e.pet.getPet&&(a[a.length-1]+=1)):(n.push({kc:t+1,name:e.pet.name}),e.pet.getPet&&(a[a.length-1]+=1)))}}}},[[36,6,7]]]);
//# sourceMappingURL=main.e421fdcc.chunk.js.map