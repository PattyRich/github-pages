(this["webpackJsonpgithub-pages"]=this["webpackJsonpgithub-pages"]||[]).push([[11],{14:function(t,e,a){"use strict";a.r(e),a.d(e,"completion",(function(){return r}));var n=a(15),s=function(t,e){return t+e};function r(t){var e=[],a=0;if(t.items.forEach((function(t){a+=t.rate})),t.items.forEach((function(n){e.push(n.rate/a*(t.chance/100))})),e.push(1-e.reduce(s)),e.length>20)return[];var r=e.reduce((function(t,e){return t.concat(t.map((function(t){return[e].concat(Object(n.a)(t))})))}),[[]]);r.sort((function(t,e){return t.length>=e.length?1:-1}));for(var o=function(t){for(var e=[];e.length<=t;){e.unshift(1);for(var a=1;a<e.length-1;a++)e[a]+=e[a+1]}return e}(e.length),i=0,c=0;c<e.length;c++)for(var u=Math.pow(-1,e.length-1-c),l=0;l<o[c];l++){if(0!==c)i+=u*(1/(1-r[o.slice(o.length-c).reduce(s)+l].reduce(s)));else i+=1*u}return"zulrah"===t.name?Math.round(i/2):Math.round(i)}},22:function(t,e,a){var n={"./arma":[24,0],"./arma.js":[24,0],"./bandos":[25,1],"./bandos.js":[25,1],"./cg":[26,2],"./cg.js":[26,2],"./completion":[14],"./completion-old":[27,3],"./completion-old.js":[27,3],"./completion.js":[14],"./corp":[28,4],"./corp.js":[28,4],"./cox":[29,5],"./cox.js":[29,5],"./looter":[7],"./looter.js":[7],"./sara":[30,6],"./sara.js":[30,6],"./tob":[31,7],"./tob.js":[31,7],"./vorkath":[32,8],"./vorkath.js":[32,8],"./zammy":[33,9],"./zammy.js":[33,9],"./zulrah":[34,10],"./zulrah.js":[34,10]};function s(t){if(!a.o(n,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=n[t],s=e[0];return Promise.all(e.slice(1).map(a.e)).then((function(){return a(s)}))}s.keys=function(){return Object.keys(n)},s.id=22,t.exports=s},39:function(t,e,a){},40:function(t,e,a){},43:function(t,e,a){},45:function(t,e,a){"use strict";a.r(e);var n=a(1),s=a.n(n),r=a(23),o=a.n(r),i=(a(39),a(12)),c=a(13),u=a(18),l=a(17),h=(a(40),a(11)),p=a(0),m=function(t){Object(u.a)(a,t);var e=Object(l.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)("div",{children:Object(p.jsx)("nav",{children:Object(p.jsxs)("ul",{id:"navigation",children:[Object(p.jsx)("li",{children:Object(p.jsx)(h.b,{to:"/",children:"Home"})}),Object(p.jsx)("li",{children:Object(p.jsx)(h.b,{to:"/osrs",children:"osrs"})}),Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"https://github.com/PattyRich/github-pages",children:" repo this comes from "})})]})})})})}}]),a}(s.a.Component),d=m,b=a(15),j=a(19),f=a(16),g=a(3),v=a.n(g),x=a(6),O=a(5),C=(a(43),a(7)),y=a(21),k=a.n(y),w=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;if(Object(i.a)(this,n),(t=e.call(this)).state={mode:"cox",rewards:null,rolls:"",nothingCounter:0,rewardList:[],rewardCount:0,rewardCountConst:0,points:3e4,pets:!0,histogramData:[],simulations:1e3,icons:{},bosses:[],createData:{bossName:"Name me",numItems:1,items:[{name:"Saradomin godsword",rate:"1/100"}],pet:{name:"Baby mole",rate:"1/5000"}}},void 0!==localStorage.getItem("bosses")&&localStorage.getItem("bosses").length)try{t.state.bosses=JSON.parse(localStorage.getItem("bosses"))}catch(a){console.log(a,"error parsing bosses from cache")}return t.onChangeValue=t.onChangeValue.bind(Object(O.a)(t)),t.onChangeValueInput=t.onChangeValueInput.bind(Object(O.a)(t)),t.go=t.go.bind(Object(O.a)(t)),t.stopInterval=t.stopInterval.bind(Object(O.a)(t)),t.graphSimulation=t.graphSimulation.bind(Object(O.a)(t)),t.lootFunction=t.lootFunction.bind(Object(O.a)(t)),t.saveBoss=t.saveBoss.bind(Object(O.a)(t)),t.selectBoss=t.selectBoss.bind(Object(O.a)(t)),t.deleteBoss=t.deleteBoss.bind(Object(O.a)(t)),t.completion=t.completion.bind(Object(O.a)(t)),t.interval=null,t}return Object(c.a)(n,[{key:"onChangeValue",value:function(){var t=Object(x.a)(v.a.mark((function t(e){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({mode:e.target.value}),this.completion(e.target.value),this.addIcons(e.target.value);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"saveBoss",value:function(){var t=this;if(!(this.state.bosses.findIndex((function(e){return e.bossName===t.state.createData.bossName}))>-1)){var e=this.state.bosses;e.push(this.state.createData),this.setState({bosses:e}),localStorage.setItem("bosses",JSON.stringify(e))}}},{key:"selectBoss",value:function(t){var e=this.state.bosses.findIndex((function(e){return e.bossName===t}));this.setState({createData:this.state.bosses[e]})}},{key:"deleteBoss",value:function(){var t=this,e=this.state.bosses.findIndex((function(e){return e.bossName===t.state.createData.bossName}));if(!(e<0)){var a=this.state.bosses;a.splice(e,1),this.setState({bosses:a}),localStorage.setItem("bosses",JSON.stringify(a))}}},{key:"onChangeValueInput",value:function(t,e){this.setState(Object(f.a)({},t,e.target.value))}},{key:"changeCreateData",value:function(t,e,a){var n=Object(j.a)({},this.state.createData);function s(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}function r(t){return t.replace(/[^0-9/.]/g,"")}"num"===t?(n.numItems=e,n.items.length>=n.numItems?n.items.pop():n.items.push({name:"",rate:"1/100"}),this.setState({createData:n})):"name"===t?n.items[a].name=s(e):"rate"===t?n.items[a].rate=r(e):"petRate"===t?n.pet.rate=r(e):"petName"===t?n.pet.name=s(e):"bossName"===t&&(n.bossName=e),this.setState({createData:n})}},{key:"addIcons",value:function(){var t=Object(x.a)(v.a.mark((function t(e){var n,s,r,o,i,c=this;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=function(t){return new Promise(function(){var e=Object(x.a)(v.a.mark((function e(a,s){var r,o,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n[t]){e.next=18;break}return e.prev=1,n[t]="loading",e.next=5,fetch('https://api.osrsbox.com/items?where={ "name": "'.concat(t,'", "duplicate": false }'));case 5:return r=e.sent,e.next=8,r.json();case 8:o=e.sent,i=o._items[0].icon,n[t]=i,a(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),a();case 18:a();case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,a){return e.apply(this,arguments)}}())},n=Object(j.a)({},this.state.icons),"create"!==e){t.next=11;break}for(s=Object(j.a)({},this.state.createData),r=[],o=0;o<s.items.length;o++)r.push(i(s.items[o].name));return s.pet&&r.push(i(s.pet.name)),t.next=9,Promise.all(r);case 9:return this.setState({icons:n}),t.abrupt("return");case 11:a(22)("./"+e).then(function(){var t=Object(x.a)(v.a.mark((function t(e){var a,s,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=JSON.parse(JSON.stringify(e)).data,s=[],r=0;r<a.items.length;r++)s.push(i(a.items[r].name));return s.push(i(a.pet.name)),t.next=6,Promise.all(s);case 6:c.setState({icons:n});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"simulate",value:function(){var t=this;this.interval&&clearInterval(this.interval);var e=Number(this.state.rolls);e>100&&(e=100),this.setState({rewardList:[],rewardCount:0,rewardCountConst:e}),this.interval=setInterval(Object(x.a)(v.a.mark((function a(){var n;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=null,!t.state.rewardCountConst){a.next=6;break}return a.next=4,t.lootFunction(e,t.state.mode,{points:t.state.points,pets:t.state.pets,createData:t.state.createData});case 4:n=a.sent,t.setState({rewardList:[n].concat(Object(b.a)(t.state.rewardList)),rewardCount:t.state.rewardCount+t.state.rewardCountConst});case 6:case"end":return a.stop()}}),a)}))),2e3)}},{key:"go",value:function(){var t=Object(x.a)(v.a.mark((function t(){var e;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.next=3,this.lootFunction(this.state.rolls,this.state.mode,{points:this.state.points,pets:this.state.pets,createData:this.state.createData});case 3:e=t.sent,this.setState({rewards:e}),e&&0===e.length?this.setState({nothingCounter:this.state.nothingCounter+1}):this.setState({nothingCounter:0});case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"graphSimulation",value:function(){var t=Object(x.a)(v.a.mark((function t(){var e,a,n,s,r,o,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=[],a=[],n=0;case 3:if(!(n<this.state.simulations)){t.next=12;break}return t.next=6,this.lootFunction("f",this.state.mode,{points:this.state.points,pets:this.state.pets,createData:this.state.createData});case 6:s=t.sent,e.push(s[s.length-1].kc),a.push(s.length);case 9:n++,t.next=3;break;case 12:r=[{x:e,type:"histogram"}],o=[{x:e,y:a,mode:"markers",type:"scatter"}],i={xaxis:{title:{text:"KC"}},yaxis:{title:{text:"# of people"}}},k.a.newPlot("histogram",r,i),i.yaxis.title.text="# of items received",k.a.newPlot("scatter",o,i);case 20:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var t=Object(x.a)(v.a.mark((function t(){var e;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.lootFunction(null,this.state.mode,{points:this.state.points,runCompletion:!0,pets:this.state.pets,createData:this.state.createData});case 2:e=t.sent,this.setState({completion:e}),this.addIcons(this.state.mode);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"lootFunction",value:function(t,e,a){var n=Number(t);return"create"===this.state.mode&&(this.addIcons(this.state.mode),this.completion()),n&&t?Object(C.loot)(n,e,a):0===n?Object(C.loot)("f",e,a):Object(C.loot)(t,e,a)}},{key:"completion",value:function(){var t=Object(x.a)(v.a.mark((function t(e){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(C.loot)(null,e||this.state.mode,{points:this.state.points,runCompletion:!0,pets:this.state.pets,createData:this.state.createData});case 2:a=t.sent,this.setState({completion:a});case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"stopInterval",value:function(){this.interval&&clearInterval(this.interval)}},{key:"componentWillUnmount",value:function(){this.stopInterval()}},{key:"render",value:function(){var t=this;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"box",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"radio",value:"cox",name:"",checked:"cox"===this.state.mode,onChange:this.onChangeValue})," Cox",Object(p.jsx)("input",{type:"radio",value:"tob",name:"",checked:"tob"===this.state.mode,onChange:this.onChangeValue})," Tob",Object(p.jsx)("input",{type:"radio",value:"cg",name:"",checked:"cg"===this.state.mode,onChange:this.onChangeValue})," Corrupted Gauntlet",Object(p.jsx)("input",{type:"radio",value:"corp",name:"",checked:"corp"===this.state.mode,onChange:this.onChangeValue})," Corp",Object(p.jsx)("input",{type:"radio",value:"zulrah",name:"",checked:"zulrah"===this.state.mode,onChange:this.onChangeValue})," Zulrah",Object(p.jsx)("input",{type:"radio",value:"vorkath",name:"",checked:"vorkath"===this.state.mode,onChange:this.onChangeValue})," Vorkath",Object(p.jsx)("input",{type:"radio",value:"arma",name:"",checked:"arma"===this.state.mode,onChange:this.onChangeValue})," Arma",Object(p.jsx)("input",{type:"radio",value:"bandos",name:"",checked:"bandos"===this.state.mode,onChange:this.onChangeValue})," Bandos",Object(p.jsx)("input",{type:"radio",value:"sara",name:"",checked:"sara"===this.state.mode,onChange:this.onChangeValue})," Sara",Object(p.jsx)("input",{type:"radio",value:"zammy",name:"",checked:"zammy"===this.state.mode,onChange:this.onChangeValue})," Zammy",Object(p.jsx)("input",{type:"radio",value:"create",name:"",checked:"create"===this.state.mode,onChange:this.onChangeValue})," Create Your Own Boss"]}),"create"===this.state.mode?Object(p.jsxs)("div",{style:{margin:"30px"},children:[Object(p.jsxs)("div",{style:{padding:"10px",margin:"10px 0px",border:"solid black 2px"},children:["Use fractions for rate or you will crash the webpage :)",Object(p.jsx)("br",{}),"Item names must be spelled exactly how they are on the wiki",Object(p.jsx)("br",{}),Object(p.jsx)("button",{style:{margin:"3px"},onClick:this.saveBoss,children:" Save boss "}),Object(p.jsx)("button",{style:{margin:"3px"},onClick:this.deleteBoss,children:" Delete boss "}),"\xa0 Boss name: ",Object(p.jsx)("input",{type:"text",value:this.state.createData.bossName,onChange:function(e){return t.changeCreateData("bossName",e.target.value)}}),"\xa0 Load previous boss.",Object(p.jsxs)("select",{value:"",onChange:function(e){return t.selectBoss(e.target.value)},children:[Object(p.jsx)("option",{value:""}),this.state.bosses.map((function(t,e){return Object(p.jsx)("option",{value:t.bossName,children:t.bossName})}))]})]}),"Number of unique items you must obtain. \xa0",Object(p.jsx)("button",{onClick:function(){return t.changeCreateData("num",t.state.createData.numItems-1)},children:" - "}),Object(p.jsxs)("span",{children:[" ",this.state.createData.numItems," "]}),Object(p.jsx)("button",{onClick:function(){return t.changeCreateData("num",t.state.createData.numItems+1)},children:" + "}),this.state.createData.items.map((function(e,a){return Object(p.jsxs)("div",{children:["Item ",a+1,": Name: ",Object(p.jsx)("input",{type:"text",value:t.state.createData.items[a].name,onChange:function(e){return t.changeCreateData("name",e.target.value,a)}}),"\xa0 Rate: ",Object(p.jsx)("input",{type:"text",value:t.state.createData.items[a].rate,onChange:function(e){return t.changeCreateData("rate",e.target.value,a)}})]})})),this.state.pets?Object(p.jsxs)("div",{children:["Pet: Name: ",Object(p.jsx)("input",{type:"text",value:this.state.createData.pet.name,onChange:function(e){return t.changeCreateData("petName",e.target.value)}}),"\xa0 Rate: ",Object(p.jsx)("input",{type:"text",value:this.state.createData.pet.rate,onChange:function(e){return t.changeCreateData("petRate",e.target.value)}})]}):null]}):null,Object(p.jsx)("label",{children:"Number of rolls (f or nothing for completion) "}),Object(p.jsx)("input",{type:"text",value:this.state.rolls,onChange:function(e){return t.onChangeValueInput("rolls",e)}}),Object(p.jsx)("br",{}),"Include pet for completion? ",Object(p.jsx)("input",{type:"checkbox",onChange:function(){return t.setState({pets:!t.state.pets})},checked:this.state.pets}),Object(p.jsx)("br",{}),"cox"===this.state.mode?Object(p.jsxs)("span",{children:[Object(p.jsx)("label",{children:"Number of cox points per raid "}),Object(p.jsx)("input",{type:"text",value:this.state.points,onChange:function(e){return t.onChangeValueInput("points",e)}})]}):null,Object(p.jsx)("br",{}),Object(p.jsx)("button",{onClick:this.go,children:" Go! "}),"\xa0 or",Object(p.jsx)("button",{style:{margin:"10px"},onClick:function(){return t.simulate()},children:" Simulate daily raids. (must be rolls <= 100) "}),this.state.rewardList.length?Object(p.jsx)("button",{style:{background:"#c90c1c"},onClick:this.stopInterval,children:" Stop "}):null,this.state.completion?Object(p.jsxs)("span",{children:[" Average completion without pet is: ",this.state.completion," kc "]}):null,"create"===this.state.mode?Object(p.jsx)("span",{children:" (This will be wrong if your rates are very common) "}):null,Object(p.jsx)("br",{}),Object(p.jsxs)("span",{children:[Object(p.jsx)("label",{children:" Plot results a # of simulations  "}),Object(p.jsx)("input",{type:"text",value:this.state.simulations,onChange:function(e){return t.onChangeValueInput("simulations",e)}})]}),Object(p.jsx)("button",{onClick:this.graphSimulation,children:" Plot. "}),Object(p.jsxs)("div",{className:"items",children:[this.state.rewards?this.state.rewards.map((function(e){return Object(p.jsxs)("div",{className:"item",children:[Object(p.jsx)("a",{href:"https://oldschool.runescape.wiki/w/".concat(e.name.split(" ").join("_")),target:"_blank",rel:"noreferrer",children:Object(p.jsx)("img",{src:"data:image/png;base64,"+t.state.icons[e.name],title:e.name,alt:e.name})}),e.kc]})})):null,this.state.rewards&&0===this.state.rewards.length?"Nothing x"+this.state.nothingCounter:null]})]}),this.state.rewardList.length?Object(p.jsxs)("div",{className:"box",children:["Overall KC: ",this.state.rewardCount,Object(p.jsx)("div",{className:"day",children:this.state.rewardList.length?this.state.rewardList.map((function(e,a){var n=new Date;return n.setDate(n.getDate()+t.state.rewardList.length-(a+1)),n=n.toLocaleString().split(",")[0],Object(p.jsxs)("div",{className:"flexCol",children:[n,Object(p.jsx)("div",{className:"items",children:e.length?e.map((function(e){return Object(p.jsxs)("div",{className:"item",children:[Object(p.jsx)("a",{href:"https://oldschool.runescape.wiki/w/".concat(e.name.split(" ").join("_")),target:"_blank",rel:"noreferrer",children:Object(p.jsx)("img",{src:"data:image/png;base64,"+t.state.icons[e.name],title:e.name,alt:e.name})}),e.kc," (",t.state.rewardCountConst*(t.state.rewardList.length-a)-(t.state.rewardCountConst-e.kc),")"]})})):null}),Object(p.jsx)("hr",{})]})})):null})]}):null,Object(p.jsx)("div",{id:"histogram",children:" "}),Object(p.jsx)("div",{id:"scatter",children:" "})]})}}]),n}(s.a.Component),D=w,N=function(t){t&&t instanceof Function&&a.e(14).then(a.bind(null,46)).then((function(e){var a=e.getCLS,n=e.getFID,s=e.getFCP,r=e.getLCP,o=e.getTTFB;a(t),n(t),s(t),r(t),o(t)}))},S=a(2);o.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(h.a,{children:Object(p.jsxs)(S.c,{children:[Object(p.jsx)(S.a,{path:"/",element:Object(p.jsx)(d,{})}),Object(p.jsx)(S.a,{path:"/osrs",element:Object(p.jsx)(D,{})}),Object(p.jsx)(S.a,{path:"/github-pages/osrs",element:Object(p.jsx)(D,{})}),Object(p.jsx)(S.a,{path:"*",element:Object(p.jsx)("main",{style:{padding:"1rem"},children:Object(p.jsx)("p",{children:"There's nothing here!"})})})]})})}),document.getElementById("root")),N()},7:function(t,e,a){"use strict";a.r(e),a.d(e,"loot",(function(){return s}));var n=a(14);function s(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{points:3e4,runCompletion:!1,pets:!0};return new Promise((function(o,i){var c=!1;"create"===e&&(e="cg",c=!0),a(22)("./"+e).then((function(e){var a=JSON.parse(JSON.stringify(e)).data;if(c&&(a=JSON.parse(JSON.stringify(s.createData)),s.pets||delete a.pet,a.pet&&"string"==typeof a.pet.rate&&(a.pet.rate=Number(a.pet.rate.split("/")[1])),a.items.forEach((function(t,e,a){if("string"==typeof t.rate){var n=t.rate.split("/");try{a[e].rate=parseFloat(n[0])/parseFloat(n[1])}catch(s){console.log(s)}}}))),!a.chance){var i=0;a.items.forEach((function(t){i+=t.rate})),a.chance=100*i}"cox"===a.name&&(a.chance=s.points/8678),a.pet&&(s.pets?a.pet.getPet=!0:a.pet.getPet=!1),s.runCompletion&&o(Object(n.completion)(a)),o(r(t,a))}))}))}function r(t,e){var a=[],n="f"===t,s=[];n&&(t=1e6);var r=0;e.items.forEach((function(t){r+=t.rate,s.push(0)})),e.pet&&e.pet.getPet&&s.push(0);for(var o=0;o<t&&(i(o),"zulrah"===e.name&&i(o),c(o),!n||s.some((function(t){return t<=0})));o++);return a;function i(t){var n,o;if(100*Math.random()<e.chance)for(var i=(n=r,o=0,Math.random()*(n-o)+o),c=0,u=0;u<e.items.length;u++)if((c+=e.items[u].rate)>=i){a.push({kc:t+1,name:e.items[u].name}),s[u]+=1;break}}function c(t){var n;e.pet&&((n=e.pet.rate,Math.floor(Math.random()*n)+1)===e.pet.rate&&("cox"===e.name?a.length&&a[a.length-1].kc===t+1&&(a.push({kc:t+1,name:e.pet.name}),e.pet.getPet&&(s[s.length-1]+=1)):(a.push({kc:t+1,name:e.pet.name}),e.pet.getPet&&(s[s.length-1]+=1))))}}}},[[45,12,13]]]);
//# sourceMappingURL=main.baf9cb1c.chunk.js.map