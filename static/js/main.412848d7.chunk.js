(this["webpackJsonpgithub-pages"]=this["webpackJsonpgithub-pages"]||[]).push([[4],{13:function(t,e,n){"use strict";n.r(e),n.d(e,"coupon",(function(){return i}));var a=n(15),s=n(7),r=n(8);function i(t){var e=function(){function t(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(s.a)(this,t),this.item=e,this.descendants=[],this.parent=r,this.possibleChildren=a,this.newTotalWeight=null,this.cumulativeRate=null,r&&r.newTotalWeight&&r.cumulativeRate?(this.newTotalWeight=r.newTotalWeight-this.item.rate,this.cumulativeRate=this.item.rate/r.newTotalWeight*this.parent.cumulativeRate):this.item?(this.newTotalWeight=n-this.item.rate,this.cumlativeRate=this.item.rate/n):(this.newTotalWeight=n,this.cumulativeRate=1)}return Object(r.a)(t,[{key:"addDecendant",value:function(t){this.descendants.push(t)}}]),t}(),n=0;if(t.items.forEach((function(t){n+=t.rate})),t.items.length>10)return null;var i=l(n),c=o(i,0);return c;function o(e,a){if(0===e.descendants.length)return a;var s=t.chance/100;e.item?a+=1/(s*(e.newTotalWeight/n))*e.cumulativeRate:a+=1/s;for(var r=0;r<e.descendants.length;r++)a=o(e.descendants[r],a);return a}function l(n){var a=new e(null,t.items,null);return u(a),a}function u(t){0!==t.possibleChildren.length&&(console.log(t.item),t.possibleChildren.forEach((function(n){var s=Object(a.a)(t.possibleChildren),r=s.findIndex((function(t){return t.name===n.name})),i=s.splice(r,1)[0],c=new e(i,s,t);t.addDecendant(c),u(c)})))}}},29:function(t,e,n){},30:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){var a={"./cg":[21,0],"./cg.js":[21,0],"./completion":[13],"./completion.js":[13],"./corp":[22,1],"./corp.js":[22,1],"./cox":[23,2],"./cox.js":[23,2],"./looter":[4],"./looter.js":[4],"./tob":[24,3],"./tob.js":[24,3]};function s(t){if(!n.o(a,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=a[t],s=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n(s)}))}s.keys=function(){return Object.keys(a)},s.id=34,t.exports=s},35:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),r=n(19),i=n.n(r),c=(n(29),n(7)),o=n(8),l=n(16),u=n(14),h=(n(30),n(12)),d=n(1),j=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)("div",{children:Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{id:"navigation",children:[Object(d.jsx)("li",{children:Object(d.jsx)(h.b,{to:"/",children:"Home"})}),Object(d.jsx)("li",{children:Object(d.jsx)(h.b,{to:"/osrs",children:"osrs"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"https://github.com/PattyRich/github-pages",children:" repo this comes from "})})]})})})})}}]),n}(s.a.Component),b=j,m=n(15),p=n(20),g=n(6),v=n.n(g),f=n(17),O=n(5),x=(n(33),n(4)),C=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(c.a)(this,n),(t=e.call(this)).state={mode:"cox",rewards:null,rolls:"",error:!1,nothingCounter:0,rewardList:[],rewardCount:0,rewardCountConst:0,points:3e4},t.onChangeValue=t.onChangeValue.bind(Object(O.a)(t)),t.onChangeValueInput=t.onChangeValueInput.bind(Object(O.a)(t)),t.go=t.go.bind(Object(O.a)(t)),t.stopInterval=t.stopInterval.bind(Object(O.a)(t)),t.interval=null,t}return Object(o.a)(n,[{key:"onChangeValue",value:function(){var t=Object(f.a)(v.a.mark((function t(e){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({mode:e.target.value}),t.next=3,Object(x.loot)(null,e.target.value,this.state.points,!0);case 3:n=t.sent,this.setState({completion:n});case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"onChangeValueInput",value:function(t,e){this.setState(Object(p.a)({},t,e.target.value))}},{key:"simulate",value:function(){var t=this;this.interval&&clearInterval(this.interval);var e=Number(this.state.rolls);e>100&&(e=100),this.setState({rewardList:[],rewardCount:0,rewardCountConst:e}),this.interval=setInterval(Object(f.a)(v.a.mark((function n(){var a;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=null,!t.state.rewardCountConst){n.next=6;break}return n.next=4,Object(x.loot)(e,t.state.mode,t.state.points);case 4:a=n.sent,t.setState({rewardList:[a].concat(Object(m.a)(t.state.rewardList)),rewardCount:t.state.rewardCount+t.state.rewardCountConst});case 6:case"end":return n.stop()}}),n)}))),2e3)}},{key:"go",value:function(){var t=Object(f.a)(v.a.mark((function t(){var e,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Number(this.state.rolls),n=[],!e){t.next=9;break}return t.next=5,Object(x.loot)(e,this.state.mode,this.state.points);case 5:n=t.sent,this.setState({rewards:n}),t.next=13;break;case 9:return t.next=11,Object(x.loot)("f",this.state.mode,this.state.points);case 11:n=t.sent,this.setState({rewards:n});case 13:n&&0===n.length?this.setState({nothingCounter:this.state.nothingCounter+1}):this.setState({nothingCounter:0});case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){}},{key:"stopInterval",value:function(){this.interval&&clearInterval(this.interval)}},{key:"componentWillUnmount",value:function(){this.stopInterval()}},{key:"render",value:function(){var t=this;return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"box",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"radio",value:"cox",name:"",checked:"cox"===this.state.mode,onChange:this.onChangeValue})," Cox",Object(d.jsx)("input",{type:"radio",value:"tob",name:"",checked:"tob"===this.state.mode,onChange:this.onChangeValue})," Tob",Object(d.jsx)("input",{type:"radio",value:"cg",name:"",checked:"cg"===this.state.mode,onChange:this.onChangeValue})," Corrupted Gauntlet",Object(d.jsx)("input",{type:"radio",value:"corp",name:"",checked:"corp"===this.state.mode,onChange:this.onChangeValue})," Corp"]}),Object(d.jsx)("label",{children:"Number of rolls (f or nothing for completion) "}),Object(d.jsx)("input",{type:"text",value:this.state.rolls,onChange:function(e){return t.onChangeValueInput("rolls",e)}}),Object(d.jsx)("br",{}),"cox"===this.state.mode?Object(d.jsxs)("span",{children:[Object(d.jsx)("label",{children:"Number of cox points per raid "}),Object(d.jsx)("input",{type:"text",value:this.state.points,onChange:function(e){return t.onChangeValueInput("points",e)}})]}):null,Object(d.jsx)("br",{}),Object(d.jsx)("button",{onClick:this.go,children:" Go! "}),"\xa0 or",Object(d.jsx)("button",{style:{margin:"10px"},onClick:function(){return t.simulate()},children:" Simulate daily raids. (must be rolls <= 100) "}),this.state.rewardList.length?Object(d.jsx)("button",{style:{background:"#c90c1c"},onClick:this.stopInterval,children:" Stop "}):null,this.state.completion?Object(d.jsxs)("span",{children:[" Average completion without pet is: ",this.state.completion," kc "]}):null,Object(d.jsxs)("div",{className:"items",children:[this.state.rewards?this.state.rewards.map((function(t){return Object(d.jsxs)("div",{className:"item",children:[Object(d.jsx)("img",{src:"".concat("/github-pages","/assets/").concat(t.name,".gif"),alt:t.name}),t.kc]})})):null,this.state.rewards&&0===this.state.rewards.length?"Nothing x"+this.state.nothingCounter:null]})]}),this.state.rewardList.length?Object(d.jsxs)("div",{className:"box",children:["Overall KC: ",this.state.rewardCount,Object(d.jsx)("div",{className:"day",children:this.state.rewardList.length?this.state.rewardList.map((function(e,n){var a=new Date;return a.setDate(a.getDate()+t.state.rewardList.length-(n+1)),a=a.toLocaleString().split(",")[0],Object(d.jsxs)("div",{className:"flexCol",children:[a,Object(d.jsx)("div",{className:"items",children:e.length?e.map((function(e){return Object(d.jsxs)("div",{className:"item",children:[Object(d.jsx)("img",{src:"".concat("/github-pages","/assets/").concat(e.name,".gif"),alt:e.name}),e.kc," (",t.state.rewardCountConst*(t.state.rewardList.length-n)-(t.state.rewardCountConst-e.kc),")"]})})):null}),Object(d.jsx)("hr",{})]})})):null})]}):null]})}}]),n}(s.a.Component),w=C,k=function(t){t&&t instanceof Function&&n.e(7).then(n.bind(null,36)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),a(t),s(t),r(t),i(t)}))},y=n(2);i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(h.a,{children:Object(d.jsxs)(y.c,{children:[Object(d.jsx)(y.a,{path:"/",element:Object(d.jsx)(b,{})}),Object(d.jsx)(y.a,{path:"/osrs",element:Object(d.jsx)(w,{})}),Object(d.jsx)(y.a,{path:"/github-pages/osrs",element:Object(d.jsx)(w,{})}),Object(d.jsx)(y.a,{path:"*",element:Object(d.jsx)("main",{style:{padding:"1rem"},children:Object(d.jsx)("p",{children:"There's nothing here!"})})})]})})}),document.getElementById("root")),k()},4:function(t,e,n){"use strict";n.r(e),n.d(e,"loot",(function(){return s}));var a=n(13);function s(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(c,o){n(34)("./"+e).then((function(e){"cox"===e.data.name&&(e.data.chance=s/8678),i&&c(Object(a.coupon)(e.data)),c(r(t,e.data))}))}))}function r(t,e){var n=[],a="f"===t,s=[];a&&(t=1e6);var r,i,c=0;e.items.forEach((function(t){c+=t.rate,s.push(0)})),s.push(0),"cg"===e.name&&(s[2]-=1);for(var o=0;o<t;o++){if(100*Math.random()<e.chance)for(var l=(r=c,i=0,Math.random()*(r-i)+i),u=0,h=0;h<e.items.length;h++)if((u+=e.items[h].rate)>=l){n.push({kc:o+1,name:e.items[h].name}),s[h]+=1;break}if(d(o),a&&!s.some((function(t){return t<=0})))break}return n;function d(t){var a=function(t){return Math.floor(Math.random()*t)+1}(e.pet.rate);a===e.pet.rate&&("cox"===e.name?n.length&&n[n.length-1].kc===t+1&&(n.push({kc:t+1,name:e.pet.name}),s[s.length-1]+=1):(n.push({kc:t+1,name:e.pet.name}),s[s.length-1]+=1))}}}},[[35,5,6]]]);
//# sourceMappingURL=main.412848d7.chunk.js.map